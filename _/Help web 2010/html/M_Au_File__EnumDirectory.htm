<html><head><meta http-equiv="X-UA-Compatible" content="IE=edge" /><link rel="shortcut icon" href="../icons/favicon.ico" /><style type="text/css">.OH_CodeSnippetContainerTabLeftActive, .OH_CodeSnippetContainerTabLeft,.OH_CodeSnippetContainerTabLeftDisabled { }.OH_CodeSnippetContainerTabRightActive, .OH_CodeSnippetContainerTabRight,.OH_CodeSnippetContainerTabRightDisabled { }.OH_footer { }</style><link rel="stylesheet" type="text/css" href="../styles/branding.css" /><link rel="stylesheet" type="text/css" href="../styles/branding-en-US.css" /><script type="text/javascript" src="../scripts/branding.js"> </script><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>File_.EnumDirectory Method </title><meta name="Language" content="en-us" /><meta name="System.Keywords" content="EnumDirectory method" /><meta name="System.Keywords" content="File_.EnumDirectory method" /><meta name="Microsoft.Help.F1" content="Au.File_.EnumDirectory" /><meta name="Microsoft.Help.Id" content="M:Au.File_.EnumDirectory(System.String,Au.Types.FEFlags,System.Func{Au.Types.FEFile,System.Boolean},System.Action{System.String})" /><meta name="Description" content="Gets names and other info of files and subdirectories in the specified directory. Returns an enumerable collection of FEFile objects containing the info. By default gets only direct children. Use flag FEFlags.AndSubdirectories to get all descendants." /><meta name="Microsoft.Help.ContentType" content="Reference" /><meta name="BrandingAware" content="true" /><meta name="container" content="Au" /><meta name="file" content="M_Au_File__EnumDirectory" /><meta name="guid" content="M_Au_File__EnumDirectory" /><script type="text/javascript" src="../scripts/clipboard.min.js"></script></head><body onload="OnLoad('cs')"><input type="hidden" id="userDataCache" class="userDataStyle" /><div class="OH_outerDiv"><div class="OH_outerContent"><table class="TitleTable"><tr><td class="OH_tdTitleColumn"><h1>File_<span id="LSTBC23F186_0"></span><script type="text/javascript">AddLanguageSpecificTextSet("LSTBC23F186_0?cpp=::|nu=.");</script>EnumDirectory Method </h1></td><td class="OH_tdRunningTitleColumn">Au Class Library</td></tr></table><div id="mainSection"><div id="mainBody"><span class="introStyle"></span> <div class="summary">            Gets names and other info of files and subdirectories in the specified directory.<br />            Returns an enumerable collection of <a href="T_Au_Types_FEFile.htm">FEFile</a> objects containing the info.<br />            By default gets only direct children. Use flag <a href="T_Au_Types_FEFlags.htm">FEFlags.AndSubdirectories</a> to get all descendants.
            </div><p> </p>
    <strong>Namespace:</strong> 
   <a href="N_Au.htm">Au</a><br />
    <strong>Assembly:</strong>
   Au (in Au.dll) Version: 1.0.0.0<div class="OH_CollapsibleAreaRegion"><div class="OH_regiontitle">Syntax</div><div class="OH_CollapsibleArea_HrDiv"><hr class="OH_CollapsibleArea_Hr" /></div></div><div class="OH_clear"> </div><div class="OH_CodeSnippetContainer"><div class="OH_CodeSnippetContainerTabs"><div class="OH_CodeSnippetContainerTabLeftActive" id="ID0EACA_tabimgleft"> </div><div id="ID0EACA_tab1" class="OH_CodeSnippetContainerTabSolo">C#</div><div class="OH_CodeSnippetContainerTabRightActive" id="ID0EACA_tabimgright"> </div></div><div class="OH_CodeSnippetContainerCodeCollection"><div class="OH_CodeSnippetToolBar"><div class="OH_CodeSnippetToolBarText"><a id="ID0EACA_copyCode" href="#" class="OH_copyCodeSnippet" onclick="javascript:CopyToClipboard('ID0EACA');return false;" title="Copy">Copy</a></div></div><div id="ID0EACA_code_Div1" class="OH_CodeSnippetContainerCode" style="display: block"><pre xml:space="preserve"><span class="keyword">public</span> <span class="keyword">static</span> <span class="identifier">IEnumerable</span>&lt;<span class="identifier">FEFile</span>&gt; <span class="identifier">EnumDirectory</span>(
	<span class="identifier">string</span> <span class="parameter">directoryPath</span>,
	<span class="identifier">FEFlags</span> <span class="parameter">flags</span> = ,
	<span class="identifier">Func</span>&lt;<span class="identifier">FEFile</span>, <span class="identifier">bool</span>&gt; <span class="parameter">filter</span> = <span class="keyword">null</span>,
	<span class="identifier">Action</span>&lt;<span class="identifier">string</span>&gt; <span class="parameter">errorHandler</span> = <span class="keyword">null</span>
)</pre></div></div></div><script type="text/javascript">AddLanguageTabSet("ID0EACA");</script><h4 class="subHeading">Parameters</h4><dl><dt><span class="parameter">directoryPath</span></dt><dd>Type: <a href="http://msdn2.microsoft.com/en-us/library/s1wwdcbf" target="_blank">System<span id="LSTBC23F186_1"></span><script type="text/javascript">AddLanguageSpecificTextSet("LSTBC23F186_1?cs=.|vb=.|cpp=::|nu=.|fs=.");</script>String</a><br />Full path of the directory.</dd><dt><span class="parameter">flags</span> (Optional)</dt><dd>Type: <a href="T_Au_Types_FEFlags.htm">Au.Types<span id="LSTBC23F186_2"></span><script type="text/javascript">AddLanguageSpecificTextSet("LSTBC23F186_2?cs=.|vb=.|cpp=::|nu=.|fs=.");</script>FEFlags</a><br /></dd><dt><span class="parameter">filter</span> (Optional)</dt><dd>Type: <a href="http://msdn2.microsoft.com/en-us/library/bb549151" target="_blank">System<span id="LSTBC23F186_3"></span><script type="text/javascript">AddLanguageSpecificTextSet("LSTBC23F186_3?cs=.|vb=.|cpp=::|nu=.|fs=.");</script>Func</a><span id="LSTBC23F186_4"></span><script type="text/javascript">AddLanguageSpecificTextSet("LSTBC23F186_4?cs=&lt;|vb=(Of |cpp=&lt;|fs=&lt;'|nu=(");</script><a href="T_Au_Types_FEFile.htm">FEFile</a>, <a href="http://msdn2.microsoft.com/en-us/library/a28wyd50" target="_blank">Boolean</a><span id="LSTBC23F186_5"></span><script type="text/javascript">AddLanguageSpecificTextSet("LSTBC23F186_5?cs=&gt;|vb=)|cpp=&gt;|fs=&gt;|nu=)");</script><br />            Callback function. Called for each file and subdirectory.<br />            If it returns false, the file/subdirectory is not included in results.<br />            This can be useful when EnumDirectory is called indirectly, for example by the Copy method. If you call it directly, you can instead skip processing the file in your foreach loop.</dd><dt><span class="parameter">errorHandler</span> (Optional)</dt><dd>Type: <a href="http://msdn2.microsoft.com/en-us/library/018hxwa8" target="_blank">System<span id="LSTBC23F186_6"></span><script type="text/javascript">AddLanguageSpecificTextSet("LSTBC23F186_6?cs=.|vb=.|cpp=::|nu=.|fs=.");</script>Action</a><span id="LSTBC23F186_7"></span><script type="text/javascript">AddLanguageSpecificTextSet("LSTBC23F186_7?cs=&lt;|vb=(Of |cpp=&lt;|fs=&lt;'|nu=(");</script><a href="http://msdn2.microsoft.com/en-us/library/s1wwdcbf" target="_blank">String</a><span id="LSTBC23F186_8"></span><script type="text/javascript">AddLanguageSpecificTextSet("LSTBC23F186_8?cs=&gt;|vb=)|cpp=&gt;|fs=&gt;|nu=)");</script><br />
            Callback function. Called when fails to get children of a subdirectory, when using flag <a href="T_Au_Types_FEFlags.htm">FEFlags.AndSubdirectories</a>.<br />            It receives the subdirectory path. It can call <a href="P_Au_WinError_Code.htm">WinError.Code</a> and throw an exception.<br />            If it does not throw an exception, the enumeration continues as if the directory is empty.<br />            If errorHandler not used, then throws exception.<br />            Read more in Remarks.</dd></dl><h4 class="subHeading">Return Value</h4>Type: <a href="http://msdn2.microsoft.com/en-us/library/9eekhta0" target="_blank">IEnumerable</a><span id="LSTBC23F186_9"></span><script type="text/javascript">AddLanguageSpecificTextSet("LSTBC23F186_9?cs=&lt;|vb=(Of |cpp=&lt;|fs=&lt;'|nu=(");</script><a href="T_Au_Types_FEFile.htm">FEFile</a><span id="LSTBC23F186_10"></span><script type="text/javascript">AddLanguageSpecificTextSet("LSTBC23F186_10?cs=&gt;|vb=)|cpp=&gt;|fs=&gt;|nu=)");</script><div class="OH_CollapsibleAreaRegion"><div class="OH_regiontitle">Exceptions</div><div class="OH_CollapsibleArea_HrDiv"><hr class="OH_CollapsibleArea_Hr" /></div></div><div class="OH_clear"> </div><div class="tableSection"><table><tr><th class="ps_exceptionNameColumn">Exception</th><th class="ps_exceptionConditionColumn">Condition</th></tr><tr><td><a href="http://msdn2.microsoft.com/en-us/library/3w1b3114" target="_blank">ArgumentException</a></td><td>directoryPath is invalid path or not full path.</td></tr><tr><td><a href="http://msdn2.microsoft.com/en-us/library/df5tffh6" target="_blank">DirectoryNotFoundException</a></td><td>directoryPath directory does not exist.</td></tr><tr><td><a href="T_Au_Types_AuException.htm">AuException</a></td><td>Failed to get children of directoryPath or of a subdirectory. Read more in Remarks.</td></tr></table></div><div class="OH_CollapsibleAreaRegion"><div class="OH_regiontitle">Remarks</div><div class="OH_CollapsibleArea_HrDiv"><hr class="OH_CollapsibleArea_Hr" /></div></div><div class="OH_clear"> </div>
            Uses API <a href="https://www.google.com/search?q=site:docs.microsoft.com+FindFirstFile" target="_blank">FindFirstFile</a>.<br /><br />            The paths that this function gets are normalized, ie may not start with exact directoryPath string. Expanded environment variables (see <a href="M_Au_Path__ExpandEnvVar.htm">Path_.ExpandEnvVar</a>), "..", DOS path etc.<br />            Paths longer than <a href="F_Au_Path__MaxDirectoryPathLength.htm">Path_.MaxDirectoryPathLength</a> have @"\\?\" prefix (see <a href="M_Au_Path__PrefixLongPathIfNeed.htm">Path_.PrefixLongPathIfNeed</a>).<br />            For symbolic links and mounted folders, gets info of the link/folder and not of its target.<br /><br />            These errors are ignored:<br />            1. Access denied (usually because of security permissions), unless used flag FailIfAccessDenied.<br />            2. Missing target directory of a symbolic link or mounted folder.<br />            When an error is ignored, the function works as if that [sub]directory is empty; does not throw exception and does not call errorHandler.<br /><br />            Enumeration of a subdirectory starts immediately after the subdirectory itself is retrieved.<div class="OH_CollapsibleAreaRegion" id="seeAlsoSection"><div class="OH_regiontitle">See Also</div><div class="OH_CollapsibleArea_HrDiv"><hr class="OH_CollapsibleArea_Hr" /></div></div><div class="OH_clear"> </div><h4 class="subHeading">Reference</h4><div class="seeAlsoStyle"><a href="T_Au_File_.htm">File_ Class</a></div><div class="seeAlsoStyle"><a href="N_Au.htm">Au Namespace</a></div></div></div></div></div><div id="OH_footer" class="OH_footer"> </div></body></html>