<html><head><meta http-equiv="X-UA-Compatible" content="IE=edge" /><link rel="shortcut icon" href="../icons/favicon.ico" /><link rel="stylesheet" type="text/css" href="../styles/branding.css" /><link rel="stylesheet" type="text/css" href="../styles/branding-en-US.css" /><script type="text/javascript" src="../scripts/branding.js"> </script><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>TriggerFuncs Class</title><meta name="Language" content="en-us" /><meta name="System.Keywords" content="TriggerFuncs class" /><meta name="System.Keywords" content="Au.Triggers.TriggerFuncs class" /><meta name="Microsoft.Help.F1" content="Au.Triggers.TriggerFuncs" /><meta name="Microsoft.Help.Id" content="T:Au.Triggers.TriggerFuncs" /><meta name="Description" content="Allows to define custom scopes/contexts/conditions for triggers." /><meta name="Microsoft.Help.ContentType" content="Reference" /><meta name="BrandingAware" content="true" /><meta name="container" content="Au.Triggers" /><meta name="file" content="T_Au_Triggers_TriggerFuncs" /><meta name="guid" content="T_Au_Triggers_TriggerFuncs" /><link type="text/css" rel="stylesheet" href="../styles/highlight.css" /><script type="text/javascript" src="../scripts/highlight.js"> </script><link rel="stylesheet" type="text/css" href="../styles/branding-Website.css" /><script type="text/javascript" src="../scripts/jquery-3.3.1.min.js"></script><script type="text/javascript" src="../scripts/branding-Website.js"></script><script type="text/javascript" src="../scripts/clipboard.min.js"></script></head><body onload="OnLoad('cs')"><input type="hidden" id="userDataCache" class="userDataStyle" /><div class="pageHeader" id="PageHeader">Au Class Library<form id="SearchForm" method="get" action="#" onsubmit="javascript:TransferToSearchPage(); return false;"><input id="SearchTextBox" type="text" maxlength="200" /><button id="SearchButton" type="submit"></button></form></div><div class="pageBody"><div class="leftNav" id="leftNav"><div id="tocNav"><div class="toclevel0" data-toclevel="0"><a class="tocCollapsed" onclick="javascript: Toggle(this);" href="#!" /><a data-tochassubtree="true" href="../html\3d4fd35d-4b48-4167-b34f-44e9afc13fc3.htm" title="Au Class Library" tocid="roottoc">Au Class Library</a></div><div class="toclevel0" data-toclevel="0"><a class="tocCollapsed" onclick="javascript: Toggle(this);" href="#!" /><a data-tochassubtree="true" href="../html/N_Au_Triggers.htm" title="Au.Triggers" tocid="N_Au_Triggers">Au.Triggers</a></div><div class="toclevel1 current" data-toclevel="1" data-childrenloaded="true"><a class="tocExpanded" onclick="javascript: Toggle(this);" href="#!" /><a data-tochassubtree="true" href="../html/T_Au_Triggers_TriggerFuncs.htm" title="TriggerFuncs Class" tocid="T_Au_Triggers_TriggerFuncs">TriggerFuncs Class</a></div><div class="toclevel2" data-toclevel="2"><a class="tocCollapsed" onclick="javascript: Toggle(this);" href="#!" /><a data-tochassubtree="true" href="../html/Properties_T_Au_Triggers_TriggerFuncs.htm" title="TriggerFuncs Properties" tocid="Properties_T_Au_Triggers_TriggerFuncs">TriggerFuncs Properties</a></div></div><div id="tocResizableEW" onmousedown="OnMouseDown(event);"></div><div id="TocResize" class="tocResize"><img id="ResizeImageIncrease" src="../icons/TocOpen.gif" onclick="OnIncreaseToc()" alt="Click or drag to resize" title="Click or drag to resize" /><img id="ResizeImageReset" src="../icons/TocClose.gif" style="display:none" onclick="OnResetToc()" alt="Click or drag to resize" title="Click or drag to resize" /></div></div><div class="topicContent" id="TopicContent"><table class="titleTable"><tr><td class="titleColumn"><h1>TriggerFuncs Class</h1></td></tr></table><span class="introStyle"></span> <div class="summary">
             Allows to define custom scopes/contexts/conditions for triggers.
             </div><div class="collapsibleAreaRegion"><span class="collapsibleRegionTitle" onclick="SectionExpandCollapse('ID0RB')" onkeypress="SectionExpandCollapse_CheckKey('ID0RB', event)" tabindex="0"><img id="ID0RBToggle" class="collapseToggle" src="../icons/SectionExpanded.png" />Inheritance Hierarchy</span></div><div id="ID0RBSection" class="collapsibleSection"><a href="http://msdn2.microsoft.com/en-us/library/e5kfa45b" target="_blank">System<span id="LST3338FBC6_0"></span><script type="text/javascript">AddLanguageSpecificTextSet("LST3338FBC6_0?cs=.|vb=.|cpp=::|nu=.|fs=.");</script>Object</a><br />  <span class="selflink">Au.Triggers<span id="LST3338FBC6_1"></span><script type="text/javascript">AddLanguageSpecificTextSet("LST3338FBC6_1?cs=.|vb=.|cpp=::|nu=.|fs=.");</script>TriggerFuncs</span><br /></div><p> </p>
    <strong>Namespace:</strong> 
   <a href="N_Au_Triggers.htm">Au.Triggers</a><br />
    <strong>Assembly:</strong>
   Au (in Au.dll) Version: 1.0.0.0<div class="collapsibleAreaRegion"><span class="collapsibleRegionTitle" onclick="SectionExpandCollapse('ID2RB')" onkeypress="SectionExpandCollapse_CheckKey('ID2RB', event)" tabindex="0"><img id="ID2RBToggle" class="collapseToggle" src="../icons/SectionExpanded.png" />Syntax</span></div><div id="ID2RBSection" class="collapsibleSection"><div class="codeSnippetContainer"><div class="codeSnippetContainerTabs"><div id="ID1EACA_tab1" class="codeSnippetContainerTabSingle">C#</div></div><div class="codeSnippetContainerCodeContainer"><div class="codeSnippetToolBar"><div class="codeSnippetToolBarText"><a id="ID1EACA_copyCode" href="#" class="copyCodeSnippet" onclick="javascript:CopyToClipboard('ID1EACA');return false;" title="Copy">Copy</a></div></div><div id="ID1EACA_code_Div1" class="codeSnippetContainerCode" style="display: block"><pre xml:space="preserve"><span class="keyword">public</span> <span class="keyword">class</span> <span class="identifier">TriggerFuncs</span></pre></div></div></div><script type="text/javascript">AddLanguageTabSet("ID1EACA");</script></div><p>The <span class="selflink">TriggerFuncs</span> type exposes the following members.</p><div class="collapsibleAreaRegion"><span class="collapsibleRegionTitle" onclick="SectionExpandCollapse('ID3RB')" onkeypress="SectionExpandCollapse_CheckKey('ID3RB', event)" tabindex="0"><img id="ID3RBToggle" class="collapseToggle" src="../icons/SectionExpanded.png" />Properties</span></div><div id="ID3RBSection" class="collapsibleSection"><table class="members" id="propertyList"><tr><th class="iconColumn">
								 
							</th><th>Name</th><th>Description</th></tr><tr data="public;declared;notNetfw;"><td><img src="../icons/pubproperty.gif" alt="Public property" title="Public property" /></td><td><a href="P_Au_Triggers_TriggerFuncs_FollowingTriggers.htm">FollowingTriggers</a></td><td><div class="summary">            Sets callback function for multiple triggers added afterwards.<br />            If the trigger has a window scope, the callback function is called after evaluating the window.<br />            This function is used with triggers of all types.<br />            The value can be null.</div></td></tr><tr data="public;declared;notNetfw;"><td><img src="../icons/pubproperty.gif" alt="Public property" title="Public property" /></td><td><a href="P_Au_Triggers_TriggerFuncs_FollowingTriggersBeforeWindow.htm">FollowingTriggersBeforeWindow</a></td><td><div class="summary">            Sets callback function for multiple triggers added afterwards.<br />            If the trigger has a window scope, the callback function is called before evaluating the window.<br />            This function is used with triggers of these types: hotkey, autotext, mouse.<br />            The value can be null.</div></td></tr><tr data="public;declared;notNetfw;"><td><img src="../icons/pubproperty.gif" alt="Public property" title="Public property" /></td><td><a href="P_Au_Triggers_TriggerFuncs_NextTrigger.htm">NextTrigger</a></td><td><div class="summary">            Sets callback function for the next added trigger.<br />            If the trigger has a window scope, the callback function is called after evaluating the window.<br />            This function is used with triggers of all types.</div></td></tr><tr data="public;declared;notNetfw;"><td><img src="../icons/pubproperty.gif" alt="Public property" title="Public property" /></td><td><a href="P_Au_Triggers_TriggerFuncs_NextTriggerBeforeWindow.htm">NextTriggerBeforeWindow</a></td><td><div class="summary">            Sets callback function for the next added trigger.<br />            If the trigger has a window scope, the callback function is called before evaluating the window.<br />            This function is used with triggers of these types: hotkey, autotext, mouse.</div></td></tr></table><a href="#PageHeader">Top</a></div><div class="collapsibleAreaRegion"><span class="collapsibleRegionTitle" onclick="SectionExpandCollapse('ID4RB')" onkeypress="SectionExpandCollapse_CheckKey('ID4RB', event)" tabindex="0"><img id="ID4RBToggle" class="collapseToggle" src="../icons/SectionExpanded.png" />Remarks</span></div><div id="ID4RBSection" class="collapsibleSection">
             Similar to <a href="T_Au_Triggers_TriggerScopes.htm">Triggers.TriggerScopes</a> (code like <span class="code">Triggers.Of.Window(...);</span>), but allows to define any scope/condition/etc, not just the active window.<br /><br />             To define a scope, you create a callback function (CF) that checks some conditions and returns true to allow the trigger action to run or false to not allow. Assign the CF to some property of this class and then add the trigger, like in the examples below. The CF will be assigned to the trigger and called when need.<br /><br />             You may ask: why to use CF when the trigger action (TA) can do the same?<br />             1. CF runs synchronously; if it returns false, the trigger key or mouse button message is passed to other triggers, hooks and apps. TA cannot do it reliably; it runs asynchronously, and the message is already stealed from other apps/triggers/hooks.<br />             2. CF is faster to call. It is simply called in the same thread that processes trigger messages. TA runs in another thread.<br />             3. A CF can be assigned to multiple triggers with a single line of code. Don't need to add the same code in all trigger actions.<br /><br />             A trigger can have up to 4 CF delegates and a window scope (<span class="code">Triggers.Of...</span>). They are called in this order: CF assigned through <a href="P_Au_Triggers_TriggerFuncs_FollowingTriggersBeforeWindow.htm">FollowingTriggersBeforeWindow</a>, <a href="P_Au_Triggers_TriggerFuncs_NextTriggerBeforeWindow.htm">NextTriggerBeforeWindow</a>, window scope, <a href="P_Au_Triggers_TriggerFuncs_NextTrigger.htm">NextTrigger</a>, <a href="P_Au_Triggers_TriggerFuncs_FollowingTriggers.htm">FollowingTriggers</a>. The <b>NextX</b> properties assign the CF to the next single trigger. The <b>FollowingX</b> properties assign the CF to all following triggers until you assign another CF or null. If several are assigned, the trigger action runs only if all CF return true and the window scope matches. The <b>XBeforeWindow</b> properties are used only with hotkey, autotext and mouse triggers.<br /><br />             All CF must be as fast as possible. Slow CF can make triggers slower (or even all keyboard/mouse input); also may cause warnings and trigger failures. A big problem is the low-level hooks timeout that Windows applies to trigger hooks; see <a href="P_Au_Util_WinHook_LowLevelHooksTimeout.htm">Util.WinHook.LowLevelHooksTimeout</a>. A related problem - slow JIT and loading of assemblies, which can make the CF too slow the first time; in some rare cases may even need to preload assemblies or pre-JIT functions to avoid the timeout warning.<br /><br />             In CF never use functions that generate keyboard or mouse events or activate windows.</div><div class="collapsibleAreaRegion"><span class="collapsibleRegionTitle" onclick="SectionExpandCollapse('ID5RB')" onkeypress="SectionExpandCollapse_CheckKey('ID5RB', event)" tabindex="0"><img id="ID5RBToggle" class="collapseToggle" src="../icons/SectionExpanded.png" />Examples</span></div><div id="ID5RBSection" class="collapsibleSection"><div class="codeSnippetContainer"><div class="codeSnippetContainerCodeContainer"><div class="codeSnippetToolBar"><div class="codeSnippetToolBarText"><a id="ID1EAAABA_copyCode" href="#" class="copyCodeSnippet" onclick="javascript:CopyToClipboard('ID1EAAABA');return false;" title="Copy">Copy</a></div></div><div id="ID1EAAABA_code_Div1" class="codeSnippetContainerCode" style="display: block"><pre xml:space="preserve"><span class="highlight-comment">//examples of assigning a CF to a single trigger</span>
Triggers.FuncOf.NextTrigger = o =&gt; Keyb.IsCapsLock; <span class="highlight-comment">//o =&gt; Keyb.IsCapsLock is the callback function (lambda)</span>
Triggers.Hotkey[<span class="highlight-literal">"Ctrl+K"</span>] = o =&gt; Print(<span class="highlight-literal">"action: Ctrl+K while CapsLock is on"</span>);
Triggers.FuncOf.NextTrigger = o =&gt; { <span class="highlight-keyword">var</span> v = o <span class="highlight-keyword">as</span> HotkeyTriggerArgs; Print($<span class="highlight-literal">"func: mod={v.Mod}"</span>); <span class="highlight-keyword">return</span> Mouse.IsPressed(MButtons.Left); };
Triggers.Hotkey[<span class="highlight-literal">"Ctrl+Shift?+B"</span>] = o =&gt; Print(<span class="highlight-literal">"action: mouse left button + Ctrl+B or Ctrl+Shift+B"</span>);

<span class="highlight-comment">//examples of assigning a CF to multiple triggers</span>
Triggers.FuncOf.FollowingTriggers = o =&gt; { <span class="highlight-keyword">var</span> v = o <span class="highlight-keyword">as</span> HotkeyTriggerArgs; Print(<span class="highlight-literal">"func"</span>, v.Trigger); <span class="highlight-keyword">return</span> <span class="highlight-keyword">true</span>; };
Triggers.Hotkey[<span class="highlight-literal">"Ctrl+F8"</span>] = o =&gt; Print(<span class="highlight-literal">"action: "</span> + o.Trigger);
Triggers.Hotkey[<span class="highlight-literal">"Ctrl+F9"</span>] = o =&gt; Print(<span class="highlight-literal">"action: "</span> + o.Trigger);
Triggers.FuncOf.FollowingTriggers = <span class="highlight-keyword">null</span>; <span class="highlight-comment">//stop assigning the CF to triggers added afterwards</span>

<span class="highlight-comment">//sometimes all work can be done in CF and you don't need the trigger action</span>
Triggers.FuncOf.NextTrigger = o =&gt; { <span class="highlight-keyword">var</span> v = o <span class="highlight-keyword">as</span> HotkeyTriggerArgs; Print(<span class="highlight-literal">"func: "</span> + v.Trigger); <span class="highlight-keyword">return</span> <span class="highlight-keyword">true</span>; };
Triggers.Hotkey[<span class="highlight-literal">"Ctrl+F12"</span>] = <span class="highlight-keyword">null</span>;

Triggers.Run();</pre></div></div></div><script type="text/javascript">AddLanguageTabSet("ID1EAAABA");</script></div><div class="collapsibleAreaRegion" id="seeAlsoSection"><span class="collapsibleRegionTitle" onclick="SectionExpandCollapse('ID6RB')" onkeypress="SectionExpandCollapse_CheckKey('ID6RB', event)" tabindex="0"><img id="ID6RBToggle" class="collapseToggle" src="../icons/SectionExpanded.png" />See Also</span></div><div id="ID6RBSection" class="collapsibleSection"><h4 class="subHeading">Reference</h4><div class="seeAlsoStyle"><a href="N_Au_Triggers.htm">Au.Triggers Namespace</a></div></div></div></div><div id="pageFooter" class="pageFooter"> </div></body></html>